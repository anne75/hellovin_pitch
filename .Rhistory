dateclean<-function(x) {
temp<-dmy(x)
f3<-function(x) ifelse(x<2000, x+1900, x)
year(temp)<-sapply(year(temp),f3)
return(temp)
}
casualty$date<-dateclean(casualty$date)
#casLife (was someone injured or killed)
temp1<-gsub(" \\(.*\\)","",casualty$casLife)
temp1<-gsub("Casualty","Serious casualty", temp1)
#je ne distingue pas ou a eu lieu le drame, c'est l'accident qui compte
#reste un Casualty tout seul
casualty$casLife<-as.factor(temp1)
#lat and long
fmin<-function(x, pattern) {
y<-ifelse(grepl(pattern,x),regmatches(x,regexec(pattern,x)), "0")
}
library(plyr)
convert2<-function(x) {
l1<-do.call(rbind,strsplit(x,"o"))
l2<-ldply(sapply(l1[,2], fmin, "^[0-9]+"))[,2] #I need only the values, not any name
l3<-ldply(sapply(l1[,2], fmin, "\\.[0-9]+"))[,2]
l4<-ldply(sapply(l1[,2], fmin, "[A-Z]"))[,2]
l5<-as.numeric(l1[,1])+as.numeric(l2)/60+as.numeric(l3)
l5<-ifelse ((l4=="S")|(l4=="W"), -l5,l5)
return(l5)
}
casualty$lat<-convert2(casualty$lat)
casualty$long<-convert2(casualty$long)
#fatalities and injuries
casualty$fatalities<-as.numeric(casualty$fatalities)
casualty$injuries<-as.numeric(casualty$injuries)
#consequence
cleantype<-function(x) {
bkdnwithshore<-grepl("^B(.*)", x) & !grepl("^B(.*)g", x)
x[bkdnwithshore]<-"Breakdown with shore assistance"
x[grepl("^C(.*)", x)]<-"Constructive total loss"
x<-gsub(" \\(.*\\)","",x)
x[grepl("[Hh]ull", x)]<-"Structural damage"
x[grepl("Tot(.*)lif(.*)*",x)]<-"Total loss and loss of life"
x[grepl("Tot(.*)shi(.*)*",x)]<-"Total loss"
return(x)
}
casualty$consequence<-cleantype(casualty$consequence)
#shipType
cleanship<-function(x) {
x<-toupper(x)
x[grepl("BA(.*)",x)]<-"BARGE"
x[grepl("BULK",x)]<-"BULK CARRIER"
x[grepl("FISH",x)]<-"FISH RELATED SHIP"
x[grepl("GAS ",x)]<-"GAS CARRIER"
x[grepl("ICE(.*) ",x)]<-"ICEBREAKER"
x[grepl("^RO(.*)",x)]<-"RO-RO CARGO SHIP"
x[grepl("^TA(.*) ",x)]<-"TANKER"
x[grepl("TUG",x)]<-"TUG"
x[grepl("^VEH(.*)",x)]<-"VEHICLES CARRIER"
return(x)
}
casualty$shipType<-cleanship(casualty$shipType)
#shipYear
#nothing
#category
cleancat<-function(x){
x[grepl("^Cap(.*)",x)]<-"Capsize"
x[grepl("Fail(.*)",x)]<-"Hull failure"
x[grepl("Fire and explosion",x)]<-"Fire/Explosion"
grounding<-grepl("Groun(.*)",x) | grepl("Stra(.*)",x)
x[grounding]<-"Grounding"
x[grepl("Other(/|$)",x)]<-"Unknown"
x[grepl("Work",x)]<-"Work-related accident"
x[grepl("Fall",x)]<-"Fall overboard"
return(x)
}
casualty$category<-cleancat(casualty$category)
rm(AA,AA2,lat,latlg,latlg2,lg, L,LL,cC,fileExtension,i,letter,myfile,mytxt,myzip,temp1)
fzone<-function(df,lat1,lat2,long1,long2=-long1) {
cond<-with(df,(lat>lat1 & lat <lat2)&(long>long1 & long<long2))
df2<-df[with(df,cond),]
return(df2)
}
position$latCut<-cut(position$lat,breaks = seq(-90,90,length.out=11))
position$longCut<-cut(position$long,breaks = seq(-180,180,length.out=21))
poscut<-position%.%group_by(latCut, longCut)%.%summarise(position=n())
casualty$latCut<-cut(casualty$lat,breaks = seq(-90,90,length.out=11))
casualty$longCut<-cut(casualty$long,breaks = seq(-180,180,length.out=21))
cascut<-casualty%.%group_by(latCut, longCut)%.%summarise(casualty=n())
rs_cas<-casualty[casualty$latCut=="(0,18]" & casualty$longCut=="(36,54]",]
table(rs_cas$consequence)
rs_cas%.%goup_by(consequence)%.%summarise(count=n())%.%arrange(desc(count))
rs_cas%.%group_by(consequence)%.%summarise(count=n())%.%arrange(desc(count))
rs_cas%.%group_by(casLife)%.%summarise(count=n())%.%arrange(desc(count))
require(rCharts)
require(knitr)
knit2html("essaiRcharthtml.Rmd")
getwd()
setwd("~/workspace/R")
knit2html("essaiRcharthtml.Rmd")
knit2html("essaiRcharthtml.Rmd")
r1<-rPlot(SepalLength ~ SepalWidth | Species, data = iris, color = 'Species', type = 'point')
r1$save('figr1.html',cdn=TRUE)
knit2html("essaiRcharthtml.Rmd")
?sys.sleep
library(knitr)
library(markdown)
?render
Sys.sleep(3)
render("~/projet IDTA/UCSC-X-Project/Prject.Rmd",pdf_document)
library(ggplot2)
setwd("~/workspace/R/coursera_dp/hellovin")
runApp()
library(shiny)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp(display.mode = 'showcase')
runApp(display.mode = 'showcase')
runApp(display.mode = 'showcase')
data("wine",package="FactoMineR")
vin<-wine[,c(1,3,4,17)]
names(vin)<-c("label","odor","aroma","tannin")
vin$label
f.whichwine<-function(odor, aroma,tannin){
vin<-wine[,c(1,3,4,17)]
names(vin)<-c("label","odor","aroma","tannin")
vintree<-tree(label~., data=vin)
f.scale<-function(x,y) {
x<-(min(y)+x*(max(y)-min(y))/10)
return(x)
}
newdata<-data.frame("odor"=f.scale(odor,vin$odor),"aroma"=f.scale(aroma,vin$aroma),
"tannin"=f.scale(tannin,vin$tannin))
return(as.character(predict(vintree,newdata, type="class")))
}
f.whichwine(5,5,2)
load("map_df")
str(aoc_list[f.whichwine(5,5,2)])
str(aoc_list[f.whichwine(5,5,5)])
f.whichwine(5,5,5)
f.whichwine(5,5,2)
names(aoc_list)
runApp(display.mode = 'showcase')
library(tree)
vin<-wine[,c(1,3,4,17)]
names(vin)<-c("label","odor","aroma","tannin")
vintree<-tree(label~., data=vin)
vintree
plot(vintree)
text(vintree)
runApp(display.mode = 'showcase')
vin$label
levels(vin$label)<-c("Saumur","Bourgueil", "Chinon")
vin$label
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
bkgd
getwd()
load(bkgd_map)
list.files()
load("bkgd_map")
bkgd
geocode("Bressuire")
geocode("Tours")
bkgd + coord_cartesian(xlim=c(-0.5,0.6),ylim=c(47,50))
bkgd + coord_cartesian(xlim=c(-0.5,0.6),ylim=c(47,50)) + coord_equal()
bkgd + coord_cartesian(xlim=c(-0.48,0.6),ylim=c(47,48))
bkgd + coord_cartesian(xlim=c(-0.48,0.6),ylim=c(47,47.5))
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
bkgd + coord_cartesian(xlim=c(-0.48,0.63),ylim=c(46.9,47.5)
;
bkgd + coord_cartesian(xlim=c(-0.48,0.63),ylim=c(46.9,47.5))
bkgd<-bkgd + coord_cartesian(xlim=c(-0.48,0.63),ylim=c(46.9,47.5)) + coord_equal()
save(bkgd, file="bkgd_map")
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
bkgd
bkgd + coord_cartesian(xlim=c(-0.48,0.63),ylim=c(46.9,47.3))
bkgd <- qmap(location ='Montsereau, France', zoom = 9, color = "color",maptype = "terrain")
bkgd + coord_cartesian(xlim=c(-0.48,0.63),ylim=c(46.9,47.3))
geocode("Tours")
geocode("Thouars")
bkgd
str(bkgd)
range(bkgd$mapping)
range(bkgd$mapping[[long]])
str(bkgd$mapping)
str(bkgd$mapping$x)
range(bkgd$long)
range(bkgd$data$long)
str(bkgd$data)
range(bkgd$data$lon)
range(bkgd$data$lat)
bkgd + coord_cartesian(xlim=c(-0.48,0.63),ylim=c(46.9,47.4))
max(bkgd$data$lon)-min(bkgd$data$lon)
ac<-max(bkgd$data$lon)-min(bkgd$data$lon)
ad<-max(bkgd$data$lat)-min(bkgd$data$lat)
(.63+.48)*ad/ac
47.4-(.63+.48)*ad/ac
bkgd + coord_cartesian(xlim=c(-0.48,0.63),ylim=c(46.7,47.4))
bkgd + coord_cartesian(xlim=c(-0.475,0.635),ylim=c(46.74,47.44))
ac
ad
ac/ad
(.635+.475)/(47.44-46.74)
(.635+.47)/(47.44-46.74)
(.635+.47)/(47.46-46.74)
bkgd + coord_cartesian(xlim=c(-0.47,0.635),ylim=c(46.74,47.46))
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
bkgd + coord_cartesian(xlim=c(-0.475,0.635),ylim=c(46.9,47.5)) + coord_equal()
bkgd + coord_cartesian(xlim=c(-0.475,0.635),ylim=c(46.9,47.5))
bkgd<-bkgd + coord_cartesian(xlim=c(-0.475,0.635),ylim=c(46.9,47.5))
save(bkgd, file="bkgd_map")
shiny::runApp()
devtools::install_github('rstudio/shinyapps')
library(shinyapps)
shinyapps::setAccountInfo(
name="anne75",
token="0F2E7A631DE339F8FC9B2F0EE7CE7AE4",
secret="H/WYYRMjGOEenL6mWqkHitp2c65vxxiYjK8ZVEFf")
getwd()
deployApp()
data("wine",package="FactoMineR")
save("wine, "wine")
save(wine, "wine")
save(wine, file="wine")
shiny::runApp()
deployApp()
library(slidify)
author("hellovin_pitch")
getwd()
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3)
geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3)
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3)
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3)
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3)
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
labs(fill="sfs")
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
theme(legend.position = 'right')
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
theme(legend.position = 'right', legend.texte=c("Bourgueil", "Chinon", "Saumur")  )
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
theme(legend.position = 'right', legend.text=c("Bourgueil", "Chinon", "Saumur")  )
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3, labels="Chinon"  ) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
theme(legend.position = 'right')
ggtitle('Wine geographical origin')
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3, labels="Chinon"  ) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
theme(legend.position = 'right') +
ggtitle('Wine geographical origin')
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3, labels="Chinon"  ) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
+ legend + theme(legend.box.just = "left") +
ggtitle('Wine geographical origin')
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3, labels="Chinon"  ) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
+ legend() + theme(legend.box.just = "left") +
ggtitle('Wine geographical origin')
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3, labels="Chinon"  ) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
+ legend(legend = "bla") + theme(legend.box.just = "left") +
ggtitle('Wine geographical origin')
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3, labels="Chinon"  ) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
+ legend(x = 4, legend = "bla") + theme(legend.box.just = "left") +
ggtitle('Wine geographical origin')
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3, labels="Chinon"  ) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
theme(legend.justification=c(0,0), legend.position=c(0,0),
legend.margin=unit(0,"lines"), legend.box="vertical",
legend.key.size=unit(1,"lines"), legend.text.align=0,
legend.title.align=0) +
ggtitle('Wine geographical origin')
bkgd + geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3, labels="Chinon"  ) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
theme(legend.justification=c(0,0), legend.position=c(0,0),
legend.box="vertical",
legend.text.align=0,
legend.title.align=0) +
ggtitle('Wine geographical origin')
colour = 'darkred', alpha = .4, size = .3) +
bkgd + scale_fill_manual(values=c("red","orange","darkred"),
name="Area",labels=c("Bourgueil","Chinon","Saumur"))+
geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', alpha = .4, size = .3) +
theme(legend.justification=c(0,0), legend.position=c(0,0),
legend.box="vertical",
legend.text.align=0,
legend.title.align=0) +
ggtitle('Wine geographical origin')
geocode("Saumur")
geocode("Chinon")
geocode("Bourgueil")
bkgd +
geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
ggtitle('Wine geographical origin') +
annotate("text",x = -.8, y = 47, colour='darkred', label="SAUMUR") +
annotate("text",x = .3, y = 47.1, colour='orange', label="CHINON") +
annotate("text",x = -.15, y = 47.3, colour='darkred', label="Saumur")
bkgd +
geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
ggtitle('Wine geographical origin') +
annotate("text",x = -.2, y = 47, colour='darkred', label="SAUMUR") +
annotate("text",x = .3, y = 47.1, colour='orange', label="CHINON") +
annotate("text",x = .15, y = 47.3, colour='darkred', label="BOURGUEIL", size=2 )
bkgd +
geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
ggtitle('Wine geographical origin') +
annotate("text",x = -.2, y = 47.3, colour='darkred', label="SAUMUR") +
annotate("text",x = .3, y = 47.1, colour='orange', label="CHINON") +
annotate("text",x = .15, y = 47.3, colour='darkred', label="BOURGUEIL", size=12 )
bkgd +
geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
ggtitle('Wine geographical origin') +
annotate("text",x = -.2, y = 47.3, colour='darkred', label="SAUMUR", size=10) +
annotate("text",x = .3, y = 47.1, colour='orange', label="CHINON", size=10) +
annotate("text",x = .15, y = 47.3, colour='darkred', label="BOURGUEIL", size=10 )
bkgd +
geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
ggtitle('Wine geographical origin') +
annotate("text",x = -.2, y = 47.3, colour='darkred', label="SAUMUR", size=10) +
annotate("text",x = .3, y = 47.1, colour='orange', label="CHINON", size=10) +
annotate("text",x = .15, y = 47, colour='red', label="BOURGUEIL", size=10 )
bkgd +
geom_polygon(data =aoc_list$Bourgueil, aes(x = long, y = lat, group = group),
colour = 'red', fill = 'red', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Chinon, aes(x = long, y = lat, group = group),
colour = 'orange', fill = 'orange', alpha = .4, size = .3) +
geom_polygon(data =aoc_list$Saumur, aes(x = long, y = lat, group = group),
colour = 'darkred', fill = 'darkred', alpha = .4, size = .3) +
ggtitle('Wine geographical origin') +
annotate("text",x = -.2, y = 47.2, colour='darkred', label="SAUMUR", size=10) +
annotate("text",x = .3, y = 47.1, colour='orange', label="CHINON", size=10) +
annotate("text",x = .15, y = 47.3, colour='red', label="BOURGUEIL", size=10 )
vin<-wine[,c(1,3,4,17)]
names(vin)<-c("label","odor","aroma","tannin")
levels(vin$label)<-c("Saumur","Bourgueil", "Chinon") #fix a syntax error
vintree<-tree(label~., data=vin)
plot(vintree)
text(vintree)
summary(vintree)
vintree<-tree(label~., data=vin, control = tree.control(minsize = 5))
vintree<-tree(label~., data=vin, control = tree.control(minsize = 5, nobs=1))
vintree<-tree(label~., data=vin, control = tree.control(minsize = 5, nobs=5))
vintree<-tree(label~., data=vin, control = tree.control(minsize = 5, nobs = 21))
plot(vintree)
text(vintree)
vintree
summary(vintree)
winetree<-tree(label~., data=wine, control = tree.control(minsize = 5, nobs = 21))
winetree<-tree(Label~., data=wine, control = tree.control(minsize = 5, nobs = 21))
plot(winetree)
text(winetree)
slidify("index.Rmd")
paste0(nrow(wine),'x',ncol(wine))
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
slidify("index.Rmd")
publish(user = "anne75", repo = "hellovin_pitch")
publish(user = "anne75", repo = "https://github.com/anne75/hellovin_pitch.git")
slidify("index.Rmd")
publish(user = "anne75", repo = "https://github.com/anne75/hellovin_pitch.git")
publish(user = "anne75", repo = "https://github.com/anne75/hellovin_pitch.git")
publish(user = "anne75", repo = "hellovin_pitch")
publish(user = "anne75", repo = "hellovin_pitch")
publish(user = "anne75", repo = "hellovin_pitch")
publish(user = "anne75", repo = "hellovin_pitch")
publish(user = "anne75", repo = "hellovin_pitch")
publish(user = "anne75", repo = "hellovin_pitch")
